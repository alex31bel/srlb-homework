# Домашнее задание к занятию 10.3 «Pacemaker»---### Задание 1Опишите основные функции и назначение Pacemaker.*Приведите ответ в свободной форме.***Pacemaker** — менеджер ресурсов кластера. Он позволяет использовать службы и объекты в рамках одного кластера из двух или более нод. Вот вкратце его достоинства:* позволяет находить и устранять сбои на уровне нод и служб;* не зависит от подсистемы хранения: можем забыть общий накопитель, как страшный сон;* не зависит от типов ресурсов: все, что можно прописать в скрипты, можно кластеризовать;* поддерживает STONITH (Shoot-The-Other-Node-In-The-Head), то есть умершая нода изолируется и запросы к ней не поступают, пока нода не отправит сообщение о том, что она снова в рабочем состоянии;* поддерживает кворумные и ресурсозависимые кластеры любого размера;* поддерживает практически любую избыточную конфигурацию;* может автоматически реплицировать конфиг на все узлы кластера — не придется править все вручную;* можно задать порядок запуска ресурсов, а также их совместимость на одном узле;* поддерживает расширенные типы ресурсов: клоны (когда ресурс запущен на множестве узлов) и дополнительные состояния (master/slave и подобное) — актуально для СУБД (MySQL, MariaDB, PostgreSQL, Oracle);* имеет единую кластерную оболочку CRM с поддержкой скриптов.---### Задание 2Опишите основные функции и назначение Corosync.*Приведите ответ в свободной форме.***Corosync** — программный продукт, который позволяет создавать единый кластер из нескольких аппаратных или виртуальных серверов. Corosync отслеживает и передает состояние всех участников (нод) в кластере.Этот продукт позволяет:* мониторить статус приложений;* оповещать приложения о смене активной ноды в кластере;* отправлять идентичные сообщения процессам на всех нодах;* предоставлять доступ к общей базе данных с конфигурацией и статистикой;* отправлять уведомления об изменениях, произведенных в базе.---### Задание 3Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.*Пришлите скриншот рабочей конфигурации и состояния сервиса для каждого нода.*Скриншот-1 к заданию 3:![Скриншот-1](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-3-1.PNG)Скриншот-2 к заданию 3:![Скриншот-2](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-3-2.PNG)Скриншот-3 к заданию 3:![Скриншот-3](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-3-3.PNG)Скриншот-4 к заданию 3:![Скриншот-4](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-3-4.PNG)Скриншот-5 к заданию 3:![Скриншот-5](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-3-5.PNG)---### Задания со звёздочкой*Эти задания дополнительные. Выполнять их не обязательно. Это не повлияет на зачёт. Вы можете их выполнить, если хотите глубже разобраться в материале. ---### Задание 4Установите и настройте DRBD-сервис для настроенного кластера.*Пришлите скриншот рабочей конфигурации и состояние сервиса для каждого нода.*Скриншот-1 к заданию 4:![Скриншот-1](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-4-1.PNG)Скриншот-2 к заданию 4:![Скриншот-2](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-4-2.PNG)Скриншот-3 к заданию 4:![Скриншот-3](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-4-3.PNG)Скриншот-4 к заданию 4:![Скриншот-4](https://github.com/alex31bel/srlb-homework/blob/srlb-14/img/10-03-4-4.PNG)